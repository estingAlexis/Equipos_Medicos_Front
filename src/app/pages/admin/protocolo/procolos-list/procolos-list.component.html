<div fxLayout="row wrap">
        <div fxFlex="100" class="flex-p">
            <mat-card class="p-0 list">
                <mat-sidenav-container>
                    <div>
                        <mat-toolbar style="background-image: url('../../../../../assets/img/circles3.png');background-size: cover;background-repeat: no-repeat; color: white" fxLayout="row" fxLayoutAlign="space-between center">
                            <div fxLayout="row" fxLayoutAlign="start center">
                                <button mat-raised-button style="background-color: #397367; color:white;"
                                    (click)="nuevaActividad();">
                                    <mat-icon>add</mat-icon>&nbsp; NUEVA ACTIVIDAD
                                </button>
                            </div>
                        </mat-toolbar>
                        <div class="list-content" perfectScrollbar>
                            <div *ngIf="accion == 'masInfo'">
                                <button mat-flat-button (click)="accion = ''">Atrás</button>
                                <table>
                                        <th>ID</th>
                                        <th>EQUIPO</th>
                                        <th>DESCRIPCION</th>
                                        <th>TECNICO</th>
                                </table>
                        </div>
                        <p-table class="theader-color tbody-color" *ngIf="table == 0 && accion == ''" #dt [value]="data" [columns]="cols" [paginator]="true"
                                [rows]="5" [rowsPerPageOptions]="[5,10,20,100]">
                                <ng-template pTemplate="caption">
                                        <div style="text-align: right">
                                                <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
                                                <input type="text" pInputText size="50" placeholder="Buscar Por..."
                                                        (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto">
                                        </div>
                                </ng-template>
                                <ng-template pTemplate="header" let-columns>
                                        <tr>
                                                <th *ngFor="let col of columns; let i = index" [ngClass]="i == 2 ? 'ww30' : 'w-10'">
                                                        {{col.header}}
                                                </th>
                                        </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-rowData let-columns="columns">
                                        <tr [pSelectableRow]="rowData">
                                                <td>
                                                        <button mat-icon-button pTooltip="Ver Actividades" tooltipPosition="top"
                                                                (click)="getActividadesPorProtocolo(rowData.idProtocolo)">
                                                                <mat-icon>ballot</mat-icon>
                                                        </button>
                                                        <button mat-icon-button pTooltip="Ver Instrumentos" tooltipPosition="top"
                                                                (click)="getInstrumentosPorProtocolos(rowData.idProtocolo)">
                                                                <mat-icon>widgets</mat-icon>
                                                        </button>
                                                        <button mat-button pTooltip="Mas Informacion" tooltipPosition="top"
                                                                (click)="accion = 'masInfo'" >
                                                                <mat-icon>info_outline</mat-icon>
                                                        </button>
                                                </td>
                                                <td>
                                                        {{rowData.codigo}}
                                                </td>
                                                <td>
                                                        {{rowData.nombre}}
                                                </td>

                                                <td>
                                                        {{rowData.responsable}}
                                                </td>
                                                <td>
                                                        {{rowData.revision}}
                                                </td>
                                                <td>
                                                        <button button mat-icon-button class="btn btnEditar" type="button" (click)="editarActividad(item.idActividades);">
                                                                <i class="material-icons">mode_edit</i>
                                                        </button>
                                                        &nbsp;
                                                        <button  button mat-icon-button         class="btn" type="button" (click)="eliminarActividad(item.idActividades)">
                                                                <i class="material-icons">delete</i>
                                                        </button>
                                                </td>
                        
                                        </tr>
                        
                                </ng-template>
                        </p-table>
                        <!--
                          /////////// table actividades
                        -->
                        <p-table *ngIf="table == 1" #dt2 [value]="actividades" [paginator]="true" [rows]="10">
                                <ng-template pTemplate="header">
                                        <tr>
                                                <div style="margin: 7px" fxLayout="row" fxLayoutAlign="start center">
                                                        <button style="float: right" mat-flat-button color="accent" (click)="return()">
                                                                <mat-icon class="mat-18">keyboard_backspace</mat-icon> &nbsp; regresar
                                                        </button>
                                                </div>
                                        </tr>
                                        <tr class="bg">
                                                <th width="8%">Estado</th>
                                                <th width="8%">ID</th>
                                                <th width="10%">Orden</th>
                        
                                        </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-item>
                                        <tr class="tbody">
                                                <td>{{item.idActividades}}</td>
                                                <td style="text-align: left">{{item.actividades}}</td>
                                                <td>{{item.orden}}</td>
                                                <td>
                                                        <div *ngIf="item.estado == 0"><img class="img-table-icon"
                                                                        [src]="getImg('error-icon.png')" alt="error"></div>
                                                        <div *ngIf="item.estado == 1"><img class="img-table-icon"
                                                                        [src]="getImg('success-icon.png')" alt="success"></div>
                                                </td>
                                        </tr>
                                </ng-template>
                        </p-table>
                        <!--
                          /////////// table instrumentos
                        -->
                        <p-table *ngIf="table == 2" #dt2 [value]="instrumentos" [paginator]="true" [rows]="10">
                                <ng-template pTemplate="header">
                                        <tr>
                                                <div style="margin: 7px" fxLayout="row" fxLayoutAlign="start center">
                                                        <button style="float: right" mat-flat-button color="accent" (click)="return()">
                                                                <mat-icon class="mat-18">keyboard_backspace</mat-icon> &nbsp; regresar
                                                        </button>
                                                </div>
                                        </tr>
                                        <tr class="bg">
                                                <th width="10%">ID</th>
                                                <th width="30%">Nombre</th>
                                                <th width="30%">Marca</th>
                                                <th width="30%">Modelo</th>
                                        </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-item>
                                        <tr class="tbody">
                                                <td>{{item.fkInstrumento.idInstrumentos}}</td>
                                                <td style="text-align: left">{{item.fkInstrumento.nombre}}</td>
                                                <td style="text-align: left">{{item.fkInstrumento.marca}}</td>
                                                <td style="text-align: left">{{item.fkInstrumento.modelo}}</td>
                                        </tr>
                                </ng-template>+
                        </p-table>
                        </div>
                    </div>
                </mat-sidenav-container>
            </mat-card>
        </div>
    </div>
    
    <ngx-smart-modal [dismissable]="false" [escapable]="false" #myModal identifier="myModal" style="text-align: center;">
        <h1>Añadir Protocolo</h1>
        <br>
        <form class="example-form">
            <mat-form-field class="example-full-width" *ngFor="let item of Usuario">
              <input matInput placeholder="Empresa" value="{{item.nombre}}">
              
            </mat-form-field>
            &nbsp;
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Favorite food">
              </mat-form-field>
              <br>
              <mat-form-field class="example-full-width">
                <input matInput placeholder="Favorite food">
              </mat-form-field>
              &nbsp;
              <mat-form-field class="example-full-width">
                  <input matInput placeholder="Favorite food">
                </mat-form-field>
                <br>
        </form>
    
        <hr>
        <br> 
    
        <button mat-raised-button (click)="myModal.close()">Cerrar</button>
        &nbsp;
        <button mat-raised-button style="background-color: #42BD75;" (click)="myModal.close()">Crear</button>
    
    </ngx-smart-modal>
    
    <!--
      /////////// form nuevo protocolo
    -->
    
    
    
    